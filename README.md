# 🖥 totxt: Code Repository to Single .txt File

> [!NOTE]
> You must have Python, pip & Git in your system.

> [!TIP]
> 🤖 Feed your LLM a single txt file to give it full & direct context of your codebase.

## 🌟 Overview

**totxt** is a Python CLI tool designed to extract source code files from a repository and consolidate them into a single, comprehensive text file (To feed into LLMs). It respects `.gitignore` patterns, filters out unnecessary files, and ensures accurate encoding detection for seamless processing.

## ✨ Features

- 🔍 **Recursive Scanning**: Automatically scans directories to find all source code files.
- 🚫 **Respects .gitignore**: Excludes files and directories specified in `.gitignore`.
- 📄 **Multi-Language Support**: Handles files from various programming languages.
- 🔤 **Robust Encoding Detection**: Ensures accurate reading of source files with different encodings.
- 🚀 **Fast and Lightweight**: Efficiently processes large repositories without heavy resource usage.

## 🛠 Installation

```bash
# Clone the repository
git clone https://github.com/makwanadeepam/totxt.git
cd totxt

# (Optional) Create and activate a virtual environment
python -m venv venv
source venv/bin/activate  # On Windows, use `venv\Scripts\activate`

# Install dependencies
pip install -r requirements.txt
```

## 💻 Usage

### Basic Usage

```bash
python totxt.py /path/to/repository
```

### Advanced Options

```bash
# Specify max file size in KB (default: 100 KB)
python totxt.py /path/to/repository --max-size 200

# Custom output filename
python totxt.py /path/to/repository --output custom_output.txt

# Enable verbose logging
python totxt.py /path/to/repository --verbose
```

## 🔧 Supported Languages

**totxt** supports source files in a wide range of languages, including:

- Python
- JavaScript/TypeScript
- HTML/CSS
- Java
- C/C++
- Ruby
- Go
- Rust
- Swift
- Shell Scripts
- Configuration Files (YAML, JSON, INI, etc.)

## 🚧 Limitations

- Excludes binary files and files exceeding the specified size limit.
- Focuses exclusively on text-based source code files.

## 📝 `recreate.py` - Recreate Folder and File Structure from Output

In addition to converting source code into a single text file, **totxt** also includes the `recreate.py` script, which allows you to recreate the folder and file structure from the generated `.txt` file. This is useful when you want to restore the original repository structure from the consolidated text file.

### Usage:

```bash
python recreate.py recreate-structure repo_output.txt /path/to/output/directory
```

This command will:

- Read the `repo_output.txt` file generated by `totxt.py`.
- Recreate the directory structure as specified in the `.txt` file.
- Restore all the source files with their respective contents under a new folder named after the `.txt` file (e.g., `repo_output`).

The folder and file structure will be created under the specified base path, and all files will be populated with their original content.

### Example:

If `repo_output.txt` contains:

```
# Repository: /path/to/repo
==================================================

### SOURCE FILE: folder1/file1.txt
--------------------------------------------------
<contents of file1.txt>

### SOURCE FILE: folder1/file2.py
--------------------------------------------------
<contents of file2.py>

### SOURCE FILE: folder2/file3.py
--------------------------------------------------
<contents of file3.py>
```

Running:

```bash
python recreate.py recreate-structure repo_output.txt /path/to/create/directory
```

Will generate:

```
/path/to/create/directory/repo_output/
├── folder1/
│   ├── file1.txt
│   └── file2.py
├── folder2/
│   └── file3.py
```

## 🤝 Contributing

Contributions are welcome! Follow these steps to contribute:

1. Fork the repository.
2. Create a new feature branch (`git checkout -b feature/YourFeature`).
3. Commit your changes (`git commit -m 'Add your feature'`).
4. Push to your branch (`git push origin feature/YourFeature`).
5. Open a pull request.

## 📄 License

This project is licensed under the [MIT License](LICENSE).

## 📬 Contact

For questions, feedback, or suggestions, feel free to contact [deepamhere@proton.me].

**Made by Deepam Makwana & Dev Shinde.**

---
